/* rainbow 2013-12-04 */
!function(a){var b=b||{};b.namespace=function(a){var c=a.split("."),d=b;"APP"===c[0]&&(c=c.slice(1));for(var e=0,f=c.length;f>e;e+=1)"undefined"==typeof d[c[e]]&&(d[c[e]]={}),d=d[c[e]];return d},"function"!=typeof Function.prototype.method&&(Function.prototype.method=function(a,b){return this.prototype[a]=b,this}),b.namespace("logIn"),b.logIn=function(){function b(b){a.extend(e,b),a(".logIn").on("click",function(a){a.preventDefault(),c()})}function c(){d.stop()[e.effect](e.speed)}var d=a("#logInForm").hide(),e={effect:"slideToggle",speed:300};return{init:b}}(),b.namespace("signUp.validate"),b.signUp.validate=function(){function b(){j.on("blur",function(){var a=j.val();c(a,d)}),k.on("blur",function(){var a=k.val();e(a,f)}),l.on("blur",function(){var a=l.val();h(a)}),m.on("blur",function(){var a=m.val(),b=l.val();i(b,a)})}function c(a,b){var c=/^[0-9A-Za-z!@#\$%]{3,16}$/;c.test(a)?(j.removeClass().prev("label").removeClass(),b(a,g)):j.removeClass().addClass("unAvailable").prev("label").removeClass()}function d(b,c){a.post("/validateUsername",{username:b},function(a){c(a,j)})}function e(a,b){var c=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;c.test(a)?(k.removeClass().prev("label").removeClass(),b(a,g)):k.removeClass().addClass("unAvailable").prev("label").removeClass()}function f(b,c){a.post("/validateEmail",{email:b},function(a){c(a,k)})}function g(a,b){"token"===a?b.addClass(a).prev("label").addClass(a):"available"===a&&b.addClass(a)}function h(a){var b=/^[0-9A-Za-z]{6,12}$/;b.test(a)?l.removeClass().addClass("available"):l.removeClass().addClass("unAvailable")}function i(a,b){a===b&&""!==b?m.removeClass().addClass("available"):m.removeClass().addClass("unAvailable")}{var j=a("#usernameSignUp"),k=a("#emailSignUp"),l=a("#passwordSignUp"),m=a("#cmPasswordSignUp");a("#buttonSignUp")}return{init:b}}(),b.logIn.init({effect:"fadeToggle",speed:500}),b.signUp.validate.init()}(jQuery);